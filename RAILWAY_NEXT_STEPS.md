# Railway 배포 완료 - 다음 단계

도메인이 생성되었습니다! 이제 애플리케이션을 사용할 수 있습니다.

## ✅ 현재 상태

**생성된 도메인**: `web-production-dc2f.up.railway.app`

이 도메인으로 애플리케이션에 접속할 수 있습니다.

## 🌐 1단계: 애플리케이션 접속

### 브라우저에서 접속

1. 브라우저를 열고 다음 URL로 접속:
   ```
   https://web-production-dc2f.up.railway.app
   ```

2. 애플리케이션이 정상적으로 로드되는지 확인:
   - "📈 금융 데이터 수집 시스템" 제목이 보여야 합니다
   - 지표 선택 화면이 표시되어야 합니다

### HTTPS 자동 설정

- Railway는 자동으로 HTTPS를 설정합니다
- `http://` 대신 `https://`를 사용하세요
- SSL 인증서가 자동으로 적용됩니다

## 🧪 2단계: 기능 테스트

### 기본 기능 테스트

1. **기간 선택**
   - 시작일: 2024-01-01
   - 종료일: 오늘 날짜

2. **지표 선택**
   - 원자재: "금" 선택
   - 주식: "삼성전자" 선택
   - 환율/금리: "KRW/USD" 선택

3. **항목 선택**
   - "가격 (Price)" 체크

4. **데이터 추출**
   - "📥 데이터 추출" 버튼 클릭
   - 데이터 수집 완료까지 대기 (약 10-30초)

5. **결과 확인**
   - 데이터 미리보기 표시 확인
   - 그래프 표시 확인
   - "💾 파일 다운로드" 버튼 클릭하여 CSV 파일 다운로드

### 다크 모드 테스트

1. 우측 상단의 🌙 버튼 클릭
2. 다크 모드로 전환되는지 확인

## 🔧 3단계: 도메인 설정 (선택사항)

### 현재 설정 확인

현재 화면에서 보이는 설정:
- **Domain**: `web-production-dc2f.up.railway.app`
- **Port**: 자동 설정됨 (수정 불필요)

### 커스텀 도메인 설정 (선택사항)

자신의 도메인을 사용하려면:

1. **Custom Domain** 섹션에서
2. **"Add Custom Domain"** 클릭
3. 도메인 입력 (예: `stock.yourdomain.com`)
4. DNS 설정 안내에 따라 CNAME 레코드 추가:
   ```
   Type: CNAME
   Name: stock (또는 원하는 서브도메인)
   Value: web-production-dc2f.up.railway.app
   ```

## 📊 4단계: 배포 상태 확인

### 배포 로그 확인

1. Railway 대시보드에서 **"Deployments"** 탭 클릭
2. 최신 배포 항목 클릭
3. **"View Logs"** 클릭
4. 다음 메시지가 보이면 정상:
   ```
   🚀 금융 데이터 수집 시스템이 프로덕션 모드로 시작되었습니다.
   ```

### 메트릭 확인

1. **"Metrics"** 탭 클릭
2. 확인 가능한 정보:
   - CPU 사용량
   - 메모리 사용량
   - 네트워크 트래픽
   - 요청 수

## ⚙️ 5단계: 환경 변수 설정 (선택사항)

### 프로덕션 모드 확인

1. **"Variables"** 탭 클릭
2. `FLASK_ENV` 환경 변수가 있는지 확인
3. 없으면 추가:
   - **Key**: `FLASK_ENV`
   - **Value**: `production`
   - **"Add"** 클릭

## 🔄 6단계: 업데이트 배포

### 코드 수정 후 재배포

1. 로컬에서 코드 수정
2. GitHub에 푸시:
   ```bash
   git add .
   git commit -m "업데이트 내용"
   git push
   ```
3. Railway가 자동으로 재배포 시작
4. **"Deployments"** 탭에서 재배포 진행 상황 확인

## 📱 7단계: 공유하기

### URL 공유

생성된 도메인을 다른 사람들과 공유할 수 있습니다:

```
https://web-production-dc2f.up.railway.app
```

### 접근 권한

- 현재는 누구나 접근 가능합니다 (Public)
- 제한하려면 Railway의 인증 기능 사용 (유료 플랜 필요)

## ⚠️ 주의사항

### 데이터 저장

- 생성된 CSV 파일은 `data/` 폴더에 저장됩니다
- 재배포 시 삭제될 수 있으므로 다운로드하여 보관하세요
- 영구 저장이 필요하면 데이터베이스 추가 고려

### 무료 티어 제한

- 월 $5 크레딧 제공
- 500시간 실행 시간
- 일반적인 사용에는 충분합니다

### 성능

- 첫 요청 시 약간 느릴 수 있습니다 (Cold Start)
- 많은 지표 선택 시 타임아웃 가능 (60초 제한)

## 🐛 문제 해결

### 애플리케이션이 로드되지 않음

1. **배포 상태 확인**
   - **"Deployments"** 탭에서 배포 상태 확인
   - 🟢 Active 상태인지 확인

2. **로그 확인**
   - **"View Logs"**에서 오류 메시지 확인
   - 일반적인 오류:
     - 포트 설정 오류
     - 패키지 설치 실패
     - 코드 오류

3. **환경 변수 확인**
   - `FLASK_ENV=production` 설정 확인

### "502 Bad Gateway" 오류

1. 애플리케이션이 정상적으로 시작되었는지 로그 확인
2. `stock_app.py`에서 `host='0.0.0.0'` 설정 확인
3. `PORT` 환경 변수 사용 확인

### 데이터 수집 실패

1. yfinance API 제한 확인
2. 인터넷 연결 확인
3. 로그에서 오류 메시지 확인

## ✅ 체크리스트

배포 완료 확인:

- [ ] 도메인 생성 완료: `web-production-dc2f.up.railway.app`
- [ ] HTTPS 접속 확인
- [ ] 애플리케이션 로드 확인
- [ ] 기능 테스트 완료
- [ ] 데이터 추출 테스트 완료
- [ ] 파일 다운로드 테스트 완료
- [ ] 배포 로그 확인 완료

## 🎉 완료!

축하합니다! 애플리케이션이 성공적으로 배포되었습니다.

이제 다음을 할 수 있습니다:
- ✅ URL을 공유하여 다른 사람들이 사용할 수 있게 함
- ✅ 정기적으로 업데이트 배포
- ✅ 메트릭을 모니터링하여 성능 확인
- ✅ 필요시 커스텀 도메인 추가

## 📚 추가 자료

- Railway 공식 문서: https://docs.railway.app
- Railway Discord: https://discord.gg/railway
- 문제 해결: `RAILWAY_DEPLOYMENT.md`의 "문제 해결" 섹션 참고

